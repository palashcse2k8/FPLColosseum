<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>

        <import type="android.view.View" />

        <variable
            name="homePageViewModel"
            type="com.infotech.fplcolosseum.features.homepage.viewmodels.HomePageSharedViewModel" />

        <variable
            name="gameWeekEventIndex"
            type="long" />

    </data>

    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="wrap_content">


        <RelativeLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical">

                <include
                    android:id="@+id/appbarLogin"
                    layout="@layout/appbar_layout" />

                <androidx.cardview.widget.CardView
                    android:id="@+id/gameWeekStat"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:cardBackgroundColor="@color/white"
                    app:cardMaxElevation="12dp"
                    app:cardElevation="12dp"
                    app:cardCornerRadius="12dp"
                    app:cardUseCompatPadding="true">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:padding="8dp"
                            android:text="Points"
                            android:textAppearance="@style/TextAppearance.Material3.BodyMedium"
                            android:textStyle="bold"/>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="Gameweek Points"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="@{String.valueOf(homePageViewModel.statusMergedResponseLiveData.data.gameWeekPicksModel.entry_history.points)}"/>
                        </LinearLayout>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="GW Average Points"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text='@{String.valueOf(homePageViewModel.geGameWeekAvgScore(gameWeekEventIndex))}'/>
                        </LinearLayout>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="GW Maximum Points"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text='@{String.valueOf(homePageViewModel.geGameWeekMaxScore(gameWeekEventIndex))}'/>
                        </LinearLayout>
                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginBottom="4dp"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="Overall Points"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="@{String.valueOf(homePageViewModel.statusMergedResponseLiveData.data.gameWeekPicksModel.entry_history.total_points)}"/>
                        </LinearLayout>


                    </LinearLayout>

                </androidx.cardview.widget.CardView>

                <androidx.cardview.widget.CardView
                    android:id="@+id/rankStatus"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:cardBackgroundColor="@color/white"
                    app:cardMaxElevation="12dp"
                    app:cardElevation="12dp"
                    app:cardCornerRadius="12dp"
                    android:layout_marginHorizontal="16dp"
                    app:cardUseCompatPadding="false">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:padding="8dp"
                            android:text="Rankings"
                            android:textAppearance="@style/TextAppearance.Material3.BodyMedium"
                            android:textStyle="bold"/>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="Gameweek Rank"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="@{String.valueOf(homePageViewModel.statusMergedResponseLiveData.data.gameWeekPicksModel.entry_history.rank)}"/>
                        </LinearLayout>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="Overall Rank"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="@{String.valueOf(homePageViewModel.statusMergedResponseLiveData.data.gameWeekPicksModel.entry_history.overall_rank)}"/>
                        </LinearLayout>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="Percentile Rank"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="@{String.valueOf(homePageViewModel.statusMergedResponseLiveData.data.gameWeekPicksModel.entry_history.percentile_rank) + '%'}"/>
                        </LinearLayout>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="Total Players"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:layout_marginBottom="4dp"
                                android:text="@{String.valueOf(homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekStaticDataModel.total_players)}"/>
                        </LinearLayout>

                    </LinearLayout>

                </androidx.cardview.widget.CardView>

                <androidx.cardview.widget.CardView
                    android:id="@+id/transferStatus"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:cardBackgroundColor="@color/white"
                    app:cardMaxElevation="12dp"
                    app:cardElevation="12dp"
                    app:cardCornerRadius="12dp"
                    android:layout_marginHorizontal="16dp"
                    android:layout_marginTop="16dp"
                    app:cardUseCompatPadding="false">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:padding="8dp"
                            android:text="Transfers"
                            android:textAppearance="@style/TextAppearance.Material3.BodyMedium"
                            android:textStyle="bold"/>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="GW Transfers"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="@{String.valueOf(homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekMyTeamResponseModel.transfers.made)}"/>
                        </LinearLayout>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="Total Transfers"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="@{(String.valueOf(homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekMyTeamResponseModel.transfers.made + homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekDataResponseModel.last_deadline_total_transfers))}"/>
                        </LinearLayout>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="In the Bank"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text='@{"€" + String.format("%.1f", ((double) homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekMyTeamResponseModel.transfers.bank) / 10) + "m"}'/>

                        </LinearLayout>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginBottom="4dp"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="Squad Value"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text='@{"€" + String.format("%.1f", ((double) homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekMyTeamResponseModel.transfers.value) / 10) + "m"}'/>
                        </LinearLayout>

                    </LinearLayout>

                </androidx.cardview.widget.CardView>

                <androidx.cardview.widget.CardView
                    android:id="@+id/chipStatus"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    app:cardBackgroundColor="@color/white"
                    app:cardMaxElevation="12dp"
                    app:cardElevation="12dp"
                    app:cardCornerRadius="12dp"
                    android:layout_marginHorizontal="16dp"
                    android:layout_marginTop="16dp"
                    app:cardUseCompatPadding="false">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:padding="8dp"
                            android:text="Chips"
                            android:textAppearance="@style/TextAppearance.Material3.BodyMedium"
                            android:textStyle="bold"/>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="Bench Boost"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="@{homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekMyTeamResponseModel.chips.get(0).status_for_entry.substring(0, 1).toUpperCase() + homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekMyTeamResponseModel.chips.get(0).status_for_entry.substring(1)}"/>
                        </LinearLayout>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="Triple Captain"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="@{homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekMyTeamResponseModel.chips.get(1).status_for_entry.substring(0, 1).toUpperCase() + homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekMyTeamResponseModel.chips.get(1).status_for_entry.substring(1)}"/>
                        </LinearLayout>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="Wildcard"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="@{homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekMyTeamResponseModel.chips.get(2).status_for_entry.substring(0, 1).toUpperCase() + homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekMyTeamResponseModel.chips.get(2).status_for_entry.substring(1)}"/>
                        </LinearLayout>

                        <View style="@style/Divider"
                            android:layout_marginHorizontal="4dp"/>


                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginBottom="4dp"
                            android:layout_marginHorizontal="4dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1.2"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="Free Hit"/>

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight=".8"
                                android:textAppearance="@style/TextAppearance.Material3.BodySmall"
                                android:padding="4dp"
                                android:text="@{homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekMyTeamResponseModel.chips.get(3).status_for_entry.substring(0, 1).toUpperCase() + homePageViewModel.myTeamMergedResponseLiveData.data.gameWeekMyTeamResponseModel.chips.get(3).status_for_entry.substring(1)}"/>
                        </LinearLayout>

                    </LinearLayout>

                </androidx.cardview.widget.CardView>


            </LinearLayout>

            <ProgressBar
                android:id="@+id/progress_circular"
                android:layout_width="100dp"
                android:layout_height="100dp"
                android:layout_centerInParent="true"
                android:visibility="@{homePageViewModel.dataLoading ? View.VISIBLE : View.GONE}">

            </ProgressBar>

        </RelativeLayout>
    </ScrollView>
</layout>

